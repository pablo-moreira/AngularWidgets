<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>DataTable</title>

    <link rel="stylesheet" href="../../theme/theme.css">
    <link rel="stylesheet" href="../../css/angularWidgets/angularWidgets-0.2.1.css">
  	<link rel="stylesheet" href="../../css/app.css">
  
    <script src="../../js/angular/angular.js"></script>
    <script src="../../js/angular/angular-route.js"></script>
    <script src="../../js/angular/angular-animate.js"></script>
    <script src="../../js/angularWidgets/angularWidgets-0.2.1.js"></script>
        
    <script>
		angular.module('teste', ['angular.widgets']).controller('DatatableController', [ '$http', 'puiGrowl', function($http, puiGrowl) {
	        			
			var vm = this;
			
	        vm.fixedData =  [
	            {'brand':'Volkswagen','year': 2012, 'color':'White', 'vin':'dsad231ff'},
	            {'brand':'Audi','year': 2011, 'color':'Black', 'vin':'gwregre345'},
	            {'brand':'Renault','year': 2005, 'color':'Gray', 'vin':'h354htr'},
	            {'brand':'Bmw','year': 2003, 'color':'Blue', 'vin':'j6w54qgh'},
	            {'brand':'Mercedes','year': 1995, 'color':'White', 'vin':'hrtwy34'},
	            {'brand':'Opel','year': 2005, 'color':'Black', 'vin':'jejtyj'},
	            {'brand':'Honda','year': 2012, 'color':'Yellow', 'vin':'g43gr'},
	            {'brand':'Chevrolet','year': 2013, 'color':'White', 'vin':'greg34'},
	            {'brand':'Opel','year': 2000, 'color':'Black', 'vin':'h54hw5'},
	            {'brand':'Mazda','year': 2013, 'color':'Red', 'vin':'245t2s'}
	        ];
	        
	        vm.car2 = [
		    	{'brand':'Hyunday','year': 2010, 'color':'Gray', 'vin':'dsad231ff'},
		       	{'brand':'Audi','year': 2011, 'color':'Black', 'vin':'gwregre345'}		            
       	    ];
	        
	        vm.getCars = function() {
	        	return vm.fixedData;	
	        }
	        
	        vm.changeData = function () {
	        	vm.fixedData = vm.getCars2();
	        };
	        
	        vm.getCars2 = function() {
	        	return vm.car2;
	        };
	        
	        vm.showVin = function (car) {
	        	alert(car.vin);
	        };
	    }]);
    </script>
</head>
<body ng-app="teste">
	<div ng-controller="DatatableController as ctrl">

		<pui-datatable value="ctrl.getCars()" item="car">
			
	    	<pui-column value="brand" headerText="Brand">
	    		<input type="text" ng-model="car.brand" />
	    	</pui-column>
			<pui-column headerText="Year" sortBy="year">			
				{{car.year}}
			</pui-column>
			<pui-column value="color" headerText="Color"></pui-column>
			<pui-column headerText="Ação">
				<button ng-click="ctrl.showVin(car)">Show Vin</button>
			</pui-column>
	    </pui-datatable>

		<pui-datatable value="ctrl.getCars2()" item="car" style="margin-top: 10px">
			
	    	<pui-column value="brand" headerText="Brand"></pui-column>
			<pui-column headerText="Year" sortBy="year">			
				{{car.year}}
			</pui-column>
			<pui-column value="color" headerText="Color"></pui-column>
			<pui-column headerText="Ação"> 
				<button ng-click="ctrl.showVin(car)">Show Vin</button>
			</pui-column>
	    </pui-datatable>
		
		<button ng-click="ctrl.changeData()">Change Data</button>
				
		<pui-datatable value="ctrl.fixedData" item="car">
		</pui-datatable>
	</div>
</body>